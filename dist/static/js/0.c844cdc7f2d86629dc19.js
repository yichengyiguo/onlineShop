webpackJsonp([0],{Pco2:function(t,r){},gKRn:function(t,r){},yEG0:function(t,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=s("IHPB"),o=s.n(e),n={props:{source:Object},methods:{addToCart:function(t){this.$store.commit("addToCart",t)}},data:function(){return{colors:{"白色":"#FFF","金色":"#DAC272","蓝色":"#233472","红色":"#F2352E","灰色":"#928989","黑色":"#000"}}}},i={render:function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",{staticClass:"productContainer"},[s("router-link",{staticClass:"product",attrs:{to:"/product/"+t.source.id}},[s("img",{attrs:{src:t.source.image,alt:"宝贝图片"}}),t._v(" "),s("h4",{staticClass:"productName"},[t._v(t._s(t.source.name))]),t._v(" "),s("div",{staticClass:"productMark",style:{background:t.colors[t.source.color]}}),t._v(" "),s("div",{staticClass:"productCost"},[t._v("￥ "+t._s(t.source.cost))]),t._v(" "),s("div",{staticClass:"addToCart",on:{click:function(r){r.preventDefault(),t.addToCart(t.source)}}},[t._v("加入购物车")])])],1)},staticRenderFns:[]};var c={components:{product:s("C7Lr")(n,i,!1,function(t){s("gKRn")},"data-v-7dbdcec0",null).exports},data:function(){return{order:"",filterColor:[],filterBrand:[]}},computed:{list:function(){return this.$store.state.products},filteredAndSortedList:function(){var t=[].concat(o()(this.list)),r=this.order,s=this.filterColor,e=this.filterBrand;return""!==r&&("sales"===r?t=t.sort(function(t,r){return t=t.sales,(r=r.sales)-t}):"costDesc"===r?t=t.sort(function(t,r){return r.cost-t.cost}):"costAsc"===r&&(t=t.sort(function(t,r){return t.cost-r.cost}))),s.length>0&&(t=t.filter(function(t){for(var r=0;r<s.length;r++)if(t.color===s[r])return!0;return!1})),e.length>0&&(t=t.filter(function(t){for(var r=0;r<e.length;r++)if(t.brand===e[r])return!0;return!1})),t},colors:function(){return this.$store.getters.filterColor},brands:function(){return this.$store.getters.filterBrand}},methods:{sortByDefault:function(){this.order=""},sortBySales:function(){this.order="sales"},sortByCost:function(){"costDesc"===this.order?this.order="costAsc":this.order="costDesc"},filterByColor:function(t){for(var r=0;r<this.filterColor.length;r++)if(this.filterColor[r]===t)return void this.filterColor.splice(r,1);this.filterColor.push(t)},filterByBrand:function(t){for(var r=0;r<this.filterBrand.length;r++)if(this.filterBrand[r]===t)return void this.filterBrand.splice(r,1);this.filterBrand.push(t)}},mounted:function(){this.$store.dispatch("getData")}},a={render:function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.list.length,expression:"list.length"}],staticClass:"list"},[s("div",{staticClass:"filter"},[s("span",[t._v("颜色:")]),t._v(" "),t._l(t.colors,function(r){return s("span",{key:r,staticClass:"filterAndSort",class:{on:t.filterColor.join("").indexOf(r)>-1},on:{click:function(s){t.filterByColor(r)}}},[t._v(t._s(r))])})],2),t._v(" "),s("div",{staticClass:"filter"},[s("span",[t._v("品牌:")]),t._v(" "),t._l(t.brands,function(r){return s("span",{key:r,staticClass:"filterAndSort",class:{on:t.filterBrand.join("").indexOf(r)>-1},on:{click:function(s){t.filterByBrand(r)}}},[t._v(t._s(r))])})],2),t._v(" "),s("div",{staticClass:"sort"},[s("span",[t._v("排序： ")]),t._v(" "),s("span",{staticClass:"filterAndSort",class:{on:""===t.order},on:{click:t.sortByDefault}},[t._v("默认")]),t._v(" "),s("span",{staticClass:"filterAndSort",class:{on:"sales"===t.order},on:{click:t.sortBySales}},[t._v("销量\n            "),"sales"===t.order?[t._v("↓")]:t._e()],2),t._v(" "),s("span",{staticClass:"filterAndSort",class:{on:t.order.indexOf("cost")>-1},on:{click:t.sortByCost}},[t._v("价格\n            "),"costDesc"===t.order?[t._v("↓")]:t._e(),t._v(" "),"costAsc"===t.order?[t._v("↑")]:t._e()],2)]),t._v(" "),t._l(t.filteredAndSortedList,function(t){return s("product",{key:t.id,attrs:{source:t}})}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.filteredAndSortedList.length,expression:"!filteredAndSortedList.length"}],staticClass:"productNotFound"},[t._v("\n        暂无相关商品\n    ")])],2)},staticRenderFns:[]};var l=s("C7Lr")(c,a,!1,function(t){s("Pco2")},"data-v-6c60833b",null);r.default=l.exports}});
//# sourceMappingURL=0.c844cdc7f2d86629dc19.js.map